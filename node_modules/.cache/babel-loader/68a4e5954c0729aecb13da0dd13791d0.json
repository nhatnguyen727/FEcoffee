{"ast":null,"code":"import \"antd/lib/tag/style\";\nimport _Tag from \"antd/lib/tag\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\n\nvar _jsxFileName = \"/home/nhatnt/TN/FEcoffee/src/client/components/product/Product.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Card, CardActions, CardContent, CardMedia, IconButton, Typography, Zoom } from '@material-ui/core';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport FavoriteBorderOutlinedIcon from '@material-ui/icons/FavoriteBorderOutlined';\nimport AddShoppingCartRoundedIcon from '@material-ui/icons/AddShoppingCartRounded';\nimport WarningRoundedIcon from '@material-ui/icons/WarningRounded';\nimport HeadShake from 'react-reveal/HeadShake';\nimport { useCart } from '../app-context/CartProvider';\nimport { useProducts } from '../app-context/ProductProvider';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { Fade } from 'react-reveal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Product({\n  id,\n  name,\n  image,\n  price,\n  favorited\n}) {\n  _s();\n\n  const {\n    url\n  } = useRouteMatch();\n  const history = useHistory();\n  const {\n    getSelectedProduct\n  } = useCart();\n  const {\n    updateFavorite\n  } = useProducts();\n  const [favoriteTicked, setFavoriteTicked] = React.useState(favorited);\n  const [userClicked, setUserClicked] = React.useState(false);\n\n  const handleSelect = (id, name) => {\n    getSelectedProduct(id, name);\n    history.push(`${url}/product/name=${name}`);\n  };\n\n  const handleFavoriteTick = () => {\n    if (sessionStorage.getItem('starbucks-member') !== null) {\n      setFavoriteTicked(favoriteTicked => !favoriteTicked);\n      setUserClicked(true);\n    } else {\n      _message.warning({\n        content: /*#__PURE__*/_jsxDEV(HeadShake, {\n          children: \"You need to sign in!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 14\n        }, this),\n        style: {\n          marginTop: '20vh',\n          fontSize: 16,\n          fontWeight: 500\n        },\n        icon: /*#__PURE__*/_jsxDEV(WarningRoundedIcon, {\n          fontSize: \"large\",\n          style: {\n            color: '#ffc400'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this)\n      });\n    }\n  };\n\n  React.useEffect(() => {\n    // prevent update when rendering without user's click\n    if (userClicked) {\n      updateFavorite(id, favoriteTicked);\n      setUserClicked(false);\n    }\n  }, [favoriteTicked, userClicked, updateFavorite, id]);\n  return /*#__PURE__*/_jsxDEV(Fade, {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        borderRadius: '1.2rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n        style: {\n          height: 180\n        },\n        image: image\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        style: {\n          paddingBottom: 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          style: {\n            fontWeight: 'bold',\n            minHeight: 18\n          },\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(_Tag, {\n          color: \"#007235\",\n          style: {\n            fontWeight: 'bold',\n            marginTop: 8\n          },\n          children: [price, \" $\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n        disableSpacing: true,\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: handleFavoriteTick,\n          children: /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Zoom, {\n              in: favoriteTicked,\n              children: /*#__PURE__*/_jsxDEV(FavoriteIcon, {\n                color: \"secondary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 8\n            }, this), !favoriteTicked ? /*#__PURE__*/_jsxDEV(FavoriteBorderOutlinedIcon, {\n              style: {\n                position: 'absolute'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 27\n            }, this) : null]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: () => handleSelect(id, name),\n          children: /*#__PURE__*/_jsxDEV(AddShoppingCartRoundedIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Product, \"ldJEBlFrSh90OTKxNut+u4+IJAY=\", false, function () {\n  return [useRouteMatch, useHistory, useCart, useProducts];\n});\n\n_c = Product;\nexport default Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"sources":["/home/nhatnt/TN/FEcoffee/src/client/components/product/Product.jsx"],"names":["React","Card","CardActions","CardContent","CardMedia","IconButton","Typography","Zoom","FavoriteIcon","FavoriteBorderOutlinedIcon","AddShoppingCartRoundedIcon","WarningRoundedIcon","HeadShake","useCart","useProducts","useHistory","useRouteMatch","Fade","Product","id","name","image","price","favorited","url","history","getSelectedProduct","updateFavorite","favoriteTicked","setFavoriteTicked","useState","userClicked","setUserClicked","handleSelect","push","handleFavoriteTick","sessionStorage","getItem","warning","content","style","marginTop","fontSize","fontWeight","icon","color","useEffect","borderRadius","height","paddingBottom","minHeight","position"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Tag, message } from 'antd';\nimport { Card, CardActions, CardContent, CardMedia, IconButton, Typography, Zoom } from '@material-ui/core';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport FavoriteBorderOutlinedIcon from '@material-ui/icons/FavoriteBorderOutlined';\nimport AddShoppingCartRoundedIcon from '@material-ui/icons/AddShoppingCartRounded';\nimport WarningRoundedIcon from '@material-ui/icons/WarningRounded';\nimport HeadShake from 'react-reveal/HeadShake';\nimport { useCart } from '../app-context/CartProvider';\nimport { useProducts } from '../app-context/ProductProvider';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { Fade } from 'react-reveal';\n\nfunction Product({ id, name, image, price, favorited }) {\n\tconst { url } = useRouteMatch();\n\tconst history = useHistory();\n\tconst { getSelectedProduct } = useCart();\n\tconst { updateFavorite } = useProducts();\n\tconst [favoriteTicked, setFavoriteTicked] = React.useState(favorited);\n\tconst [userClicked, setUserClicked] = React.useState(false);\n\n\tconst handleSelect = (id, name) => {\n\t\tgetSelectedProduct(id, name);\n\t\thistory.push(`${url}/product/name=${name}`);\n\t};\n\n\tconst handleFavoriteTick = () => {\n\t\tif (sessionStorage.getItem('starbucks-member') !== null) {\n\t\t\tsetFavoriteTicked((favoriteTicked) => !favoriteTicked);\n\t\t\tsetUserClicked(true);\n\t\t} else {\n\t\t\tmessage.warning({\n\t\t\t\tcontent: <HeadShake>You need to sign in!</HeadShake>,\n\t\t\t\tstyle: {\n\t\t\t\t\tmarginTop: '20vh',\n\t\t\t\t\tfontSize: 16,\n\t\t\t\t\tfontWeight: 500,\n\t\t\t\t},\n\t\t\t\ticon: <WarningRoundedIcon fontSize='large' style={{ color: '#ffc400' }} />,\n\t\t\t});\n\t\t}\n\t};\n\n\tReact.useEffect(() => {\n\t\t// prevent update when rendering without user's click\n\t\tif (userClicked) {\n\t\t\tupdateFavorite(id, favoriteTicked);\n\t\t\tsetUserClicked(false);\n\t\t}\n\t}, [favoriteTicked, userClicked, updateFavorite, id]);\n\n\treturn (\n\t\t<Fade>\n\t\t\t<Card style={{ borderRadius: '1.2rem' }}>\n\t\t\t\t<CardMedia style={{ height: 180 }} image={image} />\n\t\t\t\t<CardContent style={{ paddingBottom: 0 }}>\n\t\t\t\t\t<Typography variant='body2' style={{ fontWeight: 'bold', minHeight: 18 }}>\n\t\t\t\t\t\t{name}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Tag color='#007235' style={{ fontWeight: 'bold', marginTop: 8 }}>\n\t\t\t\t\t\t{price} $\n\t\t\t\t\t</Tag>\n\t\t\t\t</CardContent>\n\t\t\t\t<CardActions disableSpacing>\n\t\t\t\t\t<IconButton onClick={handleFavoriteTick}>\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Zoom in={favoriteTicked}>\n\t\t\t\t\t\t\t\t<FavoriteIcon color='secondary' />\n\t\t\t\t\t\t\t</Zoom>\n\t\t\t\t\t\t\t{!favoriteTicked ? <FavoriteBorderOutlinedIcon style={{ position: 'absolute' }} /> : null}\n\t\t\t\t\t\t</>\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<IconButton onClick={() => handleSelect(id, name)}>\n\t\t\t\t\t\t<AddShoppingCartRoundedIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</CardActions>\n\t\t\t</Card>\n\t\t</Fade>\n\t);\n}\n\nexport default Product;\n"]},"metadata":{},"sourceType":"module"}