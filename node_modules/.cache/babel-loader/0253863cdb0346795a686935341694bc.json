{"ast":null,"code":"import \"antd/lib/spin/style\";\nimport _Spin from \"antd/lib/spin\";\nimport \"antd/lib/layout/style\";\nimport _Layout from \"antd/lib/layout\";\n\nvar _jsxFileName = \"/home/nhatnt/TN/FEcoffee/src/components/coupons/Coupons.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport EnhancedTable from '../react-table/EnhancedTable';\nimport CouponFieldsTableCell from './CouponFieldsTableCell';\nimport AddCouponDialog from './AddCouponDialog';\nimport { useCoupons } from '../app-context/CouponProvider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Content\n} = _Layout;\n\nfunction Coupons() {\n  _s();\n\n  const {\n    coupons,\n    deleteCoupons,\n    addCoupon,\n    updateCoupon,\n    couponLoading,\n    errorMsg,\n    resetErrorMsg\n  } = useCoupons(); // for adding new coupon\n\n  const initCoupon = React.useMemo(() => {\n    return {\n      code: '',\n      name: '',\n      discount: 0,\n      products: [],\n      activated: true\n    };\n  }, []);\n  const columns = React.useMemo(() => [{\n    Header: 'Coupon Name',\n    accessor: 'name'\n  }, {\n    Header: 'Coupon Code',\n    accessor: 'code'\n  }, {\n    Header: 'Discount %',\n    accessor: 'discount'\n  }, {\n    Header: 'Applied Products',\n    accessor: 'products'\n  }, {\n    Header: 'Status',\n    accessor: 'activated'\n  }], []);\n  const data = React.useMemo(() => {\n    return coupons.map(coupon => ({\n      id: coupon.id,\n      name: coupon.name,\n      code: coupon.code,\n      discount: coupon.discount,\n      products: coupon.products,\n      activated: coupon.activated\n    }));\n  }, [coupons]);\n\n  const couponFieldsForm = (record, handleChange = f => f, setErrors = f => f) => {\n    return /*#__PURE__*/_jsxDEV(AddCouponDialog, {\n      record: record,\n      handleChange: handleChange,\n      setErrors: setErrors\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 10\n    }, this);\n  };\n\n  const couponFieldsTableCell = (columnId, inputStyle, value, onChange = f => f, onBlur = f => f) => {\n    return /*#__PURE__*/_jsxDEV(CouponFieldsTableCell, {\n      columnId: columnId,\n      inputStyle: inputStyle,\n      value: value,\n      onChange: onChange,\n      onBlur: onBlur\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 10\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Content, {\n    style: {\n      margin: '16px'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 24,\n        background: '#fff',\n        minHeight: 360\n      },\n      children: /*#__PURE__*/_jsxDEV(_Spin, {\n        spinning: couponLoading,\n        children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(EnhancedTable, {\n          columns: columns,\n          data: data,\n          initialRecord: initCoupon,\n          fieldsForm: couponFieldsForm,\n          fieldsTableCell: couponFieldsTableCell,\n          deleteRecordInDB: deleteCoupons,\n          addRecordInDB: addCoupon,\n          updateRecordInDB: updateCoupon,\n          errorMsg: errorMsg,\n          resetErrorMsg: resetErrorMsg,\n          tableName: \"Coupons\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Coupons, \"nnTNH013nVbHaHMiJ3SN2N+c14g=\", false, function () {\n  return [useCoupons];\n});\n\n_c = Coupons;\nexport default Coupons;\n\nvar _c;\n\n$RefreshReg$(_c, \"Coupons\");","map":{"version":3,"sources":["/home/nhatnt/TN/FEcoffee/src/components/coupons/Coupons.jsx"],"names":["React","CssBaseline","EnhancedTable","CouponFieldsTableCell","AddCouponDialog","useCoupons","Content","Coupons","coupons","deleteCoupons","addCoupon","updateCoupon","couponLoading","errorMsg","resetErrorMsg","initCoupon","useMemo","code","name","discount","products","activated","columns","Header","accessor","data","map","coupon","id","couponFieldsForm","record","handleChange","f","setErrors","couponFieldsTableCell","columnId","inputStyle","value","onChange","onBlur","margin","padding","background","minHeight"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Layout, Spin } from 'antd';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport EnhancedTable from '../react-table/EnhancedTable';\nimport CouponFieldsTableCell from './CouponFieldsTableCell';\nimport AddCouponDialog from './AddCouponDialog';\nimport { useCoupons } from '../app-context/CouponProvider';\n\nconst { Content } = Layout;\n\nfunction Coupons() {\n\tconst { coupons, deleteCoupons, addCoupon, updateCoupon, couponLoading, errorMsg, resetErrorMsg } = useCoupons();\n\n\t// for adding new coupon\n\tconst initCoupon = React.useMemo(() => {\n\t\treturn {\n\t\t\tcode: '',\n\t\t\tname: '',\n\t\t\tdiscount: 0,\n\t\t\tproducts: [],\n\t\t\tactivated: true,\n\t\t};\n\t}, []);\n\n\tconst columns = React.useMemo(\n\t\t() => [\n\t\t\t{\n\t\t\t\tHeader: 'Coupon Name',\n\t\t\t\taccessor: 'name',\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: 'Coupon Code',\n\t\t\t\taccessor: 'code',\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: 'Discount %',\n\t\t\t\taccessor: 'discount',\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: 'Applied Products',\n\t\t\t\taccessor: 'products',\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: 'Status',\n\t\t\t\taccessor: 'activated',\n\t\t\t},\n\t\t],\n\t\t[]\n\t);\n\n\tconst data = React.useMemo(() => {\n\t\treturn coupons.map((coupon) => ({\n\t\t\tid: coupon.id,\n\t\t\tname: coupon.name,\n\t\t\tcode: coupon.code,\n\t\t\tdiscount: coupon.discount,\n\t\t\tproducts: coupon.products,\n\t\t\tactivated: coupon.activated,\n\t\t}));\n\t}, [coupons]);\n\n\tconst couponFieldsForm = (record, handleChange = (f) => f, setErrors = (f) => f) => {\n\t\treturn <AddCouponDialog record={record} handleChange={handleChange} setErrors={setErrors} />;\n\t};\n\n\tconst couponFieldsTableCell = (columnId, inputStyle, value, onChange = (f) => f, onBlur = (f) => f) => {\n\t\treturn <CouponFieldsTableCell columnId={columnId} inputStyle={inputStyle} value={value} onChange={onChange} onBlur={onBlur} />;\n\t};\n\n\treturn (\n\t\t<Content style={{ margin: '16px' }}>\n\t\t\t<div style={{ padding: 24, background: '#fff', minHeight: 360 }}>\n\t\t\t\t<Spin spinning={couponLoading}>\n\t\t\t\t\t<CssBaseline />\n\t\t\t\t\t<EnhancedTable\n\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\tinitialRecord={initCoupon}\n\t\t\t\t\t\tfieldsForm={couponFieldsForm}\n\t\t\t\t\t\tfieldsTableCell={couponFieldsTableCell}\n\t\t\t\t\t\tdeleteRecordInDB={deleteCoupons}\n\t\t\t\t\t\taddRecordInDB={addCoupon}\n\t\t\t\t\t\tupdateRecordInDB={updateCoupon}\n\t\t\t\t\t\terrorMsg={errorMsg}\n\t\t\t\t\t\tresetErrorMsg={resetErrorMsg}\n\t\t\t\t\t\ttableName='Coupons'\n\t\t\t\t\t/>\n\t\t\t\t</Spin>\n\t\t\t</div>\n\t\t</Content>\n\t);\n}\n\nexport default Coupons;\n"]},"metadata":{},"sourceType":"module"}