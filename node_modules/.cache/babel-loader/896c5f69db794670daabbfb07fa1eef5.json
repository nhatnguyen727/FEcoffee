{"ast":null,"code":"import \"antd/lib/spin/style\";\nimport _Spin from \"antd/lib/spin\";\nimport \"antd/lib/layout/style\";\nimport _Layout from \"antd/lib/layout\";\n\nvar _jsxFileName = \"/home/nhatnt/TN/FEcoffee/src/client/components/menu/MenuContainer.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport MenuSide from './MenuSide';\nimport MenuBody from './MenuBody';\nimport ProductRouter from '../product/ProductRouter';\nimport { useCategories } from '../app-context/CategoryProvider';\nimport { Switch, Route, useRouteMatch, useLocation } from 'react-router-dom';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Sider,\n  Content\n} = _Layout;\n\nfunction MenuContainer() {\n  _s();\n\n  const {\n    selectedCategory,\n    categoryLoading\n  } = useCategories();\n  const {\n    path\n  } = useRouteMatch();\n  const location = useLocation();\n  const [spinTimer, setSpinTimer] = React.useState(20);\n  const [spinMsg, setSpinMsg] = React.useState(''); // using recursion\n\n  const countdown = React.useCallback((value, fn, delay = 1000) => {\n    fn(value); // callback function sets the current value. When countdown is invoked, the callback is invoked, which sets the current value\n    // from here, countdown calls coundown inside (child countdown), every child countdown has its own callback function which sets the current value\n\n    return value > 0 ? setTimeout(() => countdown(value - 1, fn), delay) : value;\n  }, []);\n  React.useMemo(() => {\n    if (spinTimer === 20) {\n      window.scrollTo(0, 0);\n      countdown(spinTimer, setSpinTimer); // setSpinTimer is 'fn' in countdown function above\n    }\n  }, [countdown, spinTimer]);\n  React.useEffect(() => {\n    if (spinTimer === 0 && categoryLoading) {\n      setSpinMsg( /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false));\n    }\n  }, [spinTimer, categoryLoading]);\n  const antIcon = React.useMemo(() => {\n    return /*#__PURE__*/_jsxDEV(LoadingOutlined, {\n      style: {\n        fontSize: 24\n      },\n      spin: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 10\n    }, this);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '76px 8vw 80px 8vw'\n    },\n    children: /*#__PURE__*/_jsxDEV(_Spin, {\n      spinning: categoryLoading,\n      tip: spinMsg,\n      indicator: antIcon,\n      children: /*#__PURE__*/_jsxDEV(_Layout, {\n        style: {\n          minHeight: '60vh'\n        },\n        className: \"sm:flex-auto\",\n        children: [location.pathname.includes('/product/name=') ? null : /*#__PURE__*/_jsxDEV(Sider, {\n          style: {\n            backgroundColor: 'white'\n          },\n          className: \"hidden sm:hidden md:inline\",\n          children: /*#__PURE__*/_jsxDEV(MenuSide, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Content, {\n          style: {\n            backgroundColor: 'white'\n          },\n          children: /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: `${path}/category=${selectedCategory.name}`,\n              children: /*#__PURE__*/_jsxDEV(ProductRouter, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: `${path}/`,\n              children: /*#__PURE__*/_jsxDEV(MenuBody, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 3\n  }, this);\n}\n\n_s(MenuContainer, \"X7MN4w9eZOL/KXEq6cFeRdtqh1A=\", false, function () {\n  return [useCategories, useRouteMatch, useLocation];\n});\n\n_c = MenuContainer;\nexport default MenuContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"MenuContainer\");","map":{"version":3,"sources":["/home/nhatnt/TN/FEcoffee/src/client/components/menu/MenuContainer.jsx"],"names":["React","LoadingOutlined","MenuSide","MenuBody","ProductRouter","useCategories","Switch","Route","useRouteMatch","useLocation","Sider","Content","MenuContainer","selectedCategory","categoryLoading","path","location","spinTimer","setSpinTimer","useState","spinMsg","setSpinMsg","countdown","useCallback","value","fn","delay","setTimeout","useMemo","window","scrollTo","useEffect","antIcon","fontSize","padding","minHeight","pathname","includes","backgroundColor","name"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Layout, Spin } from 'antd';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport MenuSide from './MenuSide';\nimport MenuBody from './MenuBody';\nimport ProductRouter from '../product/ProductRouter';\nimport { useCategories } from '../app-context/CategoryProvider';\nimport { Switch, Route, useRouteMatch, useLocation } from 'react-router-dom';\n\nconst { Sider, Content } = Layout;\n\nfunction MenuContainer() {\n\tconst { selectedCategory, categoryLoading } = useCategories();\n\tconst { path } = useRouteMatch();\n\tconst location = useLocation();\n\tconst [spinTimer, setSpinTimer] = React.useState(20);\n\tconst [spinMsg, setSpinMsg] = React.useState('');\n\n\t// using recursion\n\tconst countdown = React.useCallback((value, fn, delay = 1000) => {\n\t\tfn(value); // callback function sets the current value. When countdown is invoked, the callback is invoked, which sets the current value\n\t\t// from here, countdown calls coundown inside (child countdown), every child countdown has its own callback function which sets the current value\n\t\treturn value > 0 ? setTimeout(() => countdown(value - 1, fn), delay) : value;\n\t}, []);\n\n\tReact.useMemo(() => {\n\t\tif (spinTimer === 20) {\n\t\t\twindow.scrollTo(0, 0);\n\t\t\tcountdown(spinTimer, setSpinTimer); // setSpinTimer is 'fn' in countdown function above\n\t\t}\n\t}, [countdown, spinTimer]);\n\n\tReact.useEffect(() => {\n\t\tif (spinTimer === 0 && categoryLoading) {\n\t\t\tsetSpinMsg(\n\t\t\t\t<>\n\t\t\t\t\t{}\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t}, [spinTimer, categoryLoading]);\n\n\tconst antIcon = React.useMemo(() => {\n\t\treturn <LoadingOutlined style={{ fontSize: 24 }} spin />;\n\t}, []);\n\n\treturn (\n\t\t<div style={{ padding: '76px 8vw 80px 8vw' }}>\n\t\t\t<Spin spinning={categoryLoading} tip={spinMsg} indicator={antIcon}>\n\t\t\t\t<Layout style={{ minHeight: '60vh' }} className='sm:flex-auto'>\n\t\t\t\t\t{location.pathname.includes('/product/name=') ? null : (\n\t\t\t\t\t\t<Sider style={{ backgroundColor: 'white' }} className='hidden sm:hidden md:inline'>\n\t\t\t\t\t\t\t<MenuSide />\n\t\t\t\t\t\t</Sider>\n\t\t\t\t\t)}\n\t\t\t\t\t<Content style={{ backgroundColor: 'white' }}>\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t<Route path={`${path}/category=${selectedCategory.name}`}>\n\t\t\t\t\t\t\t\t<ProductRouter />\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t<Route path={`${path}/`}>\n\t\t\t\t\t\t\t\t<MenuBody />\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</Spin>\n\t\t</div>\n\t);\n}\n\nexport default MenuContainer;\n"]},"metadata":{},"sourceType":"module"}