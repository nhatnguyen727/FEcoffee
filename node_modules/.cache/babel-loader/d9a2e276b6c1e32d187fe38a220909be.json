{"ast":null,"code":"import \"antd/lib/spin/style\";\nimport _Spin from \"antd/lib/spin\";\nimport \"antd/lib/layout/style\";\nimport _Layout from \"antd/lib/layout\";\n\nvar _jsxFileName = \"/home/nhatnt/TN/FEcoffee/src/components/users/Users.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport EnhancedTable from '../react-table/EnhancedTable';\nimport AddUserDialog from './AddUserDialog';\nimport UserFieldsTableCell from './UserFieldsTableCell';\nimport { useUsers } from '../app-context/UserProvider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Content\n} = _Layout;\n\nfunction Users() {\n  _s();\n\n  const {\n    users,\n    deleteUsers,\n    addUser,\n    updateUser,\n    userLoading,\n    errorMsg,\n    resetErrorMsg\n  } = useUsers(); // for adding new user\n\n  const initUser = React.useMemo(() => {\n    return {\n      photo: '',\n      fullname: '',\n      phone: '',\n      address: '',\n      email: '',\n      username: '',\n      password: '',\n      role: ''\n    };\n  }, []);\n  const columns = React.useMemo(() => [{\n    Header: 'Profile Photo',\n    accessor: 'photo'\n  }, {\n    Header: 'Full Name',\n    accessor: 'fullname'\n  }, {\n    Header: 'Phone',\n    accessor: 'phone'\n  }, {\n    Header: 'Address',\n    accessor: 'address'\n  }, {\n    Header: 'Email',\n    accessor: 'email'\n  }, {\n    Header: 'Username',\n    accessor: 'username'\n  }, {\n    Header: 'Role',\n    accessor: 'role'\n  }], []);\n  const data = React.useMemo(() => {\n    return users.map(user => ({\n      id: user.id,\n      photo: user.photo,\n      fullname: user.fullname,\n      phone: user.phone,\n      address: user.address,\n      email: user.email,\n      username: user.username,\n      role: user.role\n    }));\n  }, [users]);\n\n  const userFieldsForm = (record, handleChange = f => f, setErrors = f => f) => {\n    return /*#__PURE__*/_jsxDEV(AddUserDialog, {\n      record: record,\n      handleChange: handleChange,\n      setErrors: setErrors\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 10\n    }, this);\n  };\n\n  const userFieldsTableCell = (columnId, inputStyle, value, onChange = f => f, onBlur = f => f, imgDlgOpen, handleImgDlgOpen = f => f, handleImgDlgClose = f => f) => {\n    return /*#__PURE__*/_jsxDEV(UserFieldsTableCell, {\n      columnId: columnId,\n      inputStyle: inputStyle,\n      value: value,\n      onChange: onChange,\n      onBlur: onBlur,\n      dlgOpen: imgDlgOpen,\n      handleDlgOpen: handleImgDlgOpen,\n      handleDlgClose: handleImgDlgClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 4\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Content, {\n    style: {\n      margin: '16px'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 24,\n        background: '#fff',\n        minHeight: 360\n      },\n      children: /*#__PURE__*/_jsxDEV(_Spin, {\n        spinning: userLoading,\n        children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(EnhancedTable, {\n          columns: columns,\n          data: data,\n          initialRecord: initUser,\n          fieldsForm: userFieldsForm,\n          fieldsTableCell: userFieldsTableCell,\n          deleteRecordInDB: deleteUsers,\n          addRecordInDB: addUser,\n          updateRecordInDB: updateUser,\n          errorMsg: errorMsg,\n          resetErrorMsg: resetErrorMsg,\n          tableName: \"Users\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Users, \"B3e/gxkojeKNbRf8t+ihmOStLtk=\", false, function () {\n  return [useUsers];\n});\n\n_c = Users;\nexport default Users;\n\nvar _c;\n\n$RefreshReg$(_c, \"Users\");","map":{"version":3,"sources":["/home/nhatnt/TN/FEcoffee/src/components/users/Users.jsx"],"names":["React","CssBaseline","EnhancedTable","AddUserDialog","UserFieldsTableCell","useUsers","Content","Users","users","deleteUsers","addUser","updateUser","userLoading","errorMsg","resetErrorMsg","initUser","useMemo","photo","fullname","phone","address","email","username","password","role","columns","Header","accessor","data","map","user","id","userFieldsForm","record","handleChange","f","setErrors","userFieldsTableCell","columnId","inputStyle","value","onChange","onBlur","imgDlgOpen","handleImgDlgOpen","handleImgDlgClose","margin","padding","background","minHeight"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Layout, Spin } from 'antd';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport EnhancedTable from '../react-table/EnhancedTable';\nimport AddUserDialog from './AddUserDialog';\nimport UserFieldsTableCell from './UserFieldsTableCell';\nimport { useUsers } from '../app-context/UserProvider';\n\nconst { Content } = Layout;\n\nfunction Users() {\n\tconst { users, deleteUsers, addUser, updateUser, userLoading, errorMsg, resetErrorMsg } = useUsers();\n\n\t// for adding new user\n\tconst initUser = React.useMemo(() => {\n\t\treturn {\n\t\t\tphoto: '',\n\t\t\tfullname: '',\n\t\t\tphone: '',\n\t\t\taddress: '',\n\t\t\temail: '',\n\t\t\tusername: '',\n\t\t\tpassword: '',\n\t\t\trole: '',\n\t\t};\n\t}, []);\n\n\tconst columns = React.useMemo(\n\t\t() => [\n\t\t\t{\n\t\t\t\tHeader: 'Profile Photo',\n\t\t\t\taccessor: 'photo',\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: 'Full Name',\n\t\t\t\taccessor: 'fullname',\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: 'Phone',\n\t\t\t\taccessor: 'phone',\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: 'Address',\n\t\t\t\taccessor: 'address',\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: 'Email',\n\t\t\t\taccessor: 'email',\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: 'Username',\n\t\t\t\taccessor: 'username',\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: 'Role',\n\t\t\t\taccessor: 'role',\n\t\t\t},\n\t\t],\n\t\t[]\n\t);\n\n\tconst data = React.useMemo(() => {\n\t\treturn users.map((user) => ({\n\t\t\tid: user.id,\n\t\t\tphoto: user.photo,\n\t\t\tfullname: user.fullname,\n\t\t\tphone: user.phone,\n\t\t\taddress: user.address,\n\t\t\temail: user.email,\n\t\t\tusername: user.username,\n\t\t\trole: user.role,\n\t\t}));\n\t}, [users]);\n\n\tconst userFieldsForm = (record, handleChange = (f) => f, setErrors = (f) => f) => {\n\t\treturn <AddUserDialog record={record} handleChange={handleChange} setErrors={setErrors} />;\n\t};\n\n\tconst userFieldsTableCell = (\n\t\tcolumnId,\n\t\tinputStyle,\n\t\tvalue,\n\t\tonChange = (f) => f,\n\t\tonBlur = (f) => f,\n\t\timgDlgOpen,\n\t\thandleImgDlgOpen = (f) => f,\n\t\thandleImgDlgClose = (f) => f\n\t) => {\n\t\treturn (\n\t\t\t<UserFieldsTableCell\n\t\t\t\tcolumnId={columnId}\n\t\t\t\tinputStyle={inputStyle}\n\t\t\t\tvalue={value}\n\t\t\t\tonChange={onChange}\n\t\t\t\tonBlur={onBlur}\n\t\t\t\tdlgOpen={imgDlgOpen}\n\t\t\t\thandleDlgOpen={handleImgDlgOpen}\n\t\t\t\thandleDlgClose={handleImgDlgClose}\n\t\t\t/>\n\t\t);\n\t};\n\n\treturn (\n\t\t<Content style={{ margin: '16px' }}>\n\t\t\t<div style={{ padding: 24, background: '#fff', minHeight: 360 }}>\n\t\t\t\t<Spin spinning={userLoading}>\n\t\t\t\t\t<CssBaseline />\n\t\t\t\t\t<EnhancedTable\n\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\tinitialRecord={initUser}\n\t\t\t\t\t\tfieldsForm={userFieldsForm}\n\t\t\t\t\t\tfieldsTableCell={userFieldsTableCell}\n\t\t\t\t\t\tdeleteRecordInDB={deleteUsers}\n\t\t\t\t\t\taddRecordInDB={addUser}\n\t\t\t\t\t\tupdateRecordInDB={updateUser}\n\t\t\t\t\t\terrorMsg={errorMsg}\n\t\t\t\t\t\tresetErrorMsg={resetErrorMsg}\n\t\t\t\t\t\ttableName='Users'\n\t\t\t\t\t/>\n\t\t\t\t</Spin>\n\t\t\t</div>\n\t\t</Content>\n\t);\n}\n\nexport default Users;\n"]},"metadata":{},"sourceType":"module"}